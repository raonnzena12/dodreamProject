DROP TABLE "USER_TB";

CREATE TABLE "USER_TB" (
	"USER_NO"	NUMBER		NOT NULL,
	"USER_EMAIL"	VARCHAR2(100)		NOT NULL,
	"USER_NICKNAME"	VARCHAR2(100)		NOT NULL,
	"USER_PWD"	VARCHAR2(100)		NOT NULL,
	"USER_EM_AUTH_YN"	VARCHAR2(1)	DEFAULT 'N'	NOT NULL,
	"USER_ADMIN_YN"	VARCHAR2(1)	DEFAULT 'N'	NOT NULL,
	"USER_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"USER_ER_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"USER_LOGIN_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"USER_MF_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"USER_ADDR"	VARCHAR2(1000)		NULL,
	"USER_PHONE"	VARCHAR2(100)		NULL,
	"USER_PF_IMG"	VARCHAR2(1000)		NULL,
	"USER_SELF"	VARCHAR2(1000)		NULL
);

COMMENT ON COLUMN "USER_TB"."USER_NO" IS 'SEQ_USER_NO';

COMMENT ON COLUMN "USER_TB"."USER_EM_AUTH_YN" IS '이메일인증시 Y /EMAIL_AUTH';

COMMENT ON COLUMN "USER_TB"."USER_ADMIN_YN" IS '일반회원 N';

COMMENT ON COLUMN "USER_TB"."USER_STATUS" IS '탈퇴시 N';

COMMENT ON COLUMN "USER_TB"."USER_ER_DT" IS 'ENROLL_DATE/가입일자';

COMMENT ON COLUMN "USER_TB"."USER_MF_DT" IS 'MODIFY_DATE/수정일자';

COMMENT ON COLUMN "USER_TB"."USER_ADDR" IS 'ADDRESS/주소';

COMMENT ON COLUMN "USER_TB"."USER_PF_IMG" IS 'PROFILE_IMG';

DROP TABLE "PROJECT_TB";

CREATE TABLE "PROJECT_TB" (
	"PROJECT_NO"	NUMBER		NOT NULL,
	"PROJECT_TITLE"	VARCHAR2(100)		NOT NULL,
	"PROJECT_STITLE"	VARCHAR2(200)		NOT NULL,
	"PROJECT_GOAL"	NUMBER		NOT NULL,
	"PROJECT_THUMB_IMG"	VARCHAR2(400)		NOT NULL,
	"PROJECT_START_DT"	DATE		NOT NULL,
	"PROJECT_CLOSE_DT"	DATE		NOT NULL,
	"PROJECT_HASHTAG"	VARCHAR2(4000)		NULL,
	"PROJECT_MAIN_IMG"	VARCHAR2(400)		NOT NULL,
	"PROJECT_SUMMARY"	VARCHAR2(400)		NOT NULL,
	"PROJECT_STORY"	CLOB		NOT NULL,
	"PROJECT_AT_NM"	VARCHAR2(100)		NOT NULL,
	"PROJECT_AT_PF"	VARCHAR2(400)		NOT NULL,
	"PROJECT_AT_SNS1"	VARCHAR2(100)		NULL,
	"PROJECT_AT_SNS2"	VARCHAR2(100)		NULL,
	"PROJECT_AT_CONT"	VARCHAR2(100)		NULL,
	"PROJECT_AT_EM"	VARCHAR2(100)		NULL,
	"PROJECT_ER_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"PROJECT_MF_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"PROJECT_WRITER"	NUMBER		NOT NULL,
	"PROJECT_CT_NO"	NUMBER		NOT NULL,
	"PROJECT_ST_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_NO" IS 'SEQ_PROJ_NO';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_START_DT" IS 'START_DATE/시작일';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_CLOSE_DT" IS 'CLOSE_DATE/종료일';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_NM" IS 'ARTIST_NAME/아티스트이름';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_PF" IS 'ARTIST_PROFILE/아티스트프로필사진';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_SNS1" IS 'ARTIST_SNS';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_SNS2" IS 'ARTIST_SNS';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_CONT" IS 'ARTIST_CONTRACT/아티스트연락처';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_AT_EM" IS 'ARTIST_EMAIL';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_ER_DT" IS 'ENROLL_DATE/프로젝트등록일자';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_MF_DT" IS 'MODIFY_DATE/프로젝트수정일자';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_CT_NO" IS 'CATEGORY_NO/프로젝트카테고리번호';

COMMENT ON COLUMN "PROJECT_TB"."PROJECT_ST_NO" IS 'STATUS_NO/프로젝트상태번호';

DROP TABLE "REWARD";

CREATE TABLE "REWARD" (
	"REWARD_NO"	NUMBER		NOT NULL,
	"REWARD_PRICE"	NUMBER		NOT NULL,
	"REWARD_NAME"	VARCHAR2(200)		NOT NULL,
	"REWARD_EXPLAIN"	VARCHAR2(4000)		NOT NULL,
	"REWARD_LIMIT"	NUMBER	DEFAULT 0	NOT NULL,
	"REWARD_SHIP_CDT"	VARCHAR2(1)	DEFAULT 'N'	NOT NULL,
	"REWARD_SHIP_DT"	DATE		NOT NULL,
	"REWORD_OP_ADD"	VARCHAR2(4000)		NULL,
	"REWORD_REF_PNO"	NUMBER		NOT NULL,
	"REWORD_OP_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REWARD"."REWARD_NO" IS 'SEQ_RWD_NO';

COMMENT ON COLUMN "REWARD"."REWARD_EXPLAIN" IS '리워드 설명';

COMMENT ON COLUMN "REWARD"."REWARD_LIMIT" IS '리워드 제한수량';

COMMENT ON COLUMN "REWARD"."REWARD_SHIP_CDT" IS 'SHIP_CONDITION/배송조건';

COMMENT ON COLUMN "REWARD"."REWARD_SHIP_DT" IS 'SHIP_DATE/배송예정일';

DROP TABLE "REPLY";

CREATE TABLE "REPLY" (
	"REPLY_NO"	NUMBER		NOT NULL,
	"REPLY_CONTENT"	VARCHAR2(4000)		NOT NULL,
	"REPLY_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"REPLY_WRI_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPLY_MODI_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPLY_REF_PNO"	NUMBER		NOT NULL,
	"REPLY_WRITER"	NUMBER		NOT NULL,
	"REPLY_CG_NO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REPLY"."REPLY_NO" IS 'SEQ_RPL_NO';

COMMENT ON COLUMN "REPLY"."REPLY_STATUS" IS 'Y/N';

COMMENT ON COLUMN "REPLY"."REPLY_WRI_DT" IS 'REPLY_WRITE_DATE/ 댓글작성일';

COMMENT ON COLUMN "REPLY"."REPLY_MODI_DT" IS 'REPLY_MODIFY_DATE/댓글수정일';

DROP TABLE "NOTICE";

CREATE TABLE "NOTICE" (
	"NOTICE_NO"	NUMBER		NOT NULL,
	"NOTICE_TITLE"	VARCHAR2(300)		NOT NULL,
	"NOTICE_CONTENT"	CLOB		NOT NULL,
	"NOTICE_ER_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"NOTICE_MF_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"NOTICE_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"NOTICE_WRITER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "NOTICE"."NOTICE_NO" IS 'SEQ_NOT_NO';

COMMENT ON COLUMN "NOTICE"."NOTICE_ER_DT" IS 'ENROLL_DATE/작성일';

COMMENT ON COLUMN "NOTICE"."NOTICE_MF_DT" IS 'MODIFY_DATE/수정일';

DROP TABLE "FOLLOW_TB";

CREATE TABLE "FOLLOW_TB" (
	"FOLLOW"	NUMBER		NOT NULL,
	"FOLLOWER"	NUMBER		NOT NULL
);

DROP TABLE "LIKE_TB";

CREATE TABLE "LIKE_TB" (
	"LIKE_USER"	NUMBER		NOT NULL,
	"LIKE_PRJ"	NUMBER		NOT NULL
);

DROP TABLE "PROJECT_CG";

CREATE TABLE "PROJECT_CG" (
	"PROJECT_CT_NO"	NUMBER		NOT NULL,
	"PROJECT_CT_NAME"	VARCHAR2(100)		NOT NULL
);

COMMENT ON COLUMN "PROJECT_CG"."PROJECT_CT_NO" IS 'CATEGORY_NO/프로젝트카테고리번호';

COMMENT ON COLUMN "PROJECT_CG"."PROJECT_CT_NAME" IS 'CATEGORY_NAME/프로젝트카테고리이름';

DROP TABLE "REWARD_OPTION";

CREATE TABLE "REWARD_OPTION" (
	"REWORD_OP_NO"	NUMBER		NOT NULL,
	"REWORD_OP_DETAIL"	VARCHAR2(1000)		NOT NULL
);

COMMENT ON COLUMN "REWARD_OPTION"."REWORD_OP_NO" IS 'OPTION_NO/리워드 옵션 번호';

COMMENT ON COLUMN "REWARD_OPTION"."REWORD_OP_DETAIL" IS 'OPTION_DETAIL/리워드옵션상세';

DROP TABLE "REPLY_CG";

CREATE TABLE "REPLY_CG" (
	"REPLY_CG_NO"	NUMBER		NOT NULL,
	"PEPLY_CG_NM"	VARCHAR2(100)		NOT NULL
);

COMMENT ON COLUMN "REPLY_CG"."REPLY_CG_NO" IS 'CATEGORY_NO/댓글카테고리번호';

COMMENT ON COLUMN "REPLY_CG"."PEPLY_CG_NM" IS 'CATEGORY_NAME/댓글카테고리이름';

DROP TABLE "SUBREPLY";

CREATE TABLE "SUBREPLY" (
	"SUBRE_NO"	NUMBER		NOT NULL,
	"SUBRE_CON"	VARCHAR2(4000)		NOT NULL,
	"SUBRE_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"SUBRE_WRI_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"SUBRE_MODI_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"SUBRE_WRITER"	NUMBER		NOT NULL,
	"SUBRE_REF_RNO"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "SUBREPLY"."SUBRE_NO" IS 'SEQ_SUBRPL_NO';

COMMENT ON COLUMN "SUBREPLY"."SUBRE_CON" IS 'SUBREPLY_CONTENT/대댓글내용';

COMMENT ON COLUMN "SUBREPLY"."SUBRE_STATUS" IS 'Y/N';

COMMENT ON COLUMN "SUBREPLY"."SUBRE_WRI_DT" IS 'SUBREPLY_WRITE_DATE';

COMMENT ON COLUMN "SUBREPLY"."SUBRE_MODI_DT" IS 'SUBREPLY_MODIFY_DATE';

COMMENT ON COLUMN "SUBREPLY"."SUBRE_REF_RNO" IS '참조하는 댓글 번호';

DROP TABLE "FAQ";

CREATE TABLE "FAQ" (
	"FAQ_NO"	NUMBER		NOT NULL,
	"FAQ_TITLE"	VARCHAR2(300)		NOT NULL,
	"FAQ_CONTENT"	CLOB		NOT NULL,
	"FAQ_ENROLL_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"FAQ_MODIFY_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"FAQ_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"FAQ_WRITER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "FAQ"."FAQ_NO" IS 'SEQ_FAQ_NO';

DROP TABLE "REVIEW";

CREATE TABLE "REVIEW" (
	"REVIEW_NO"	NUMBER		NOT NULL,
	"REVIEW_TITLE"	VARCHAR2(300)		NOT NULL,
	"REVIEW_CONTENT"	CLOB		NOT NULL,
	"REVIEW_ER_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REVIEW_MF_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REVIEW_STATUS"	VARCHAR2(1)	DEFAULT 'Y'	NOT NULL,
	"REVIEW_REF_PNO"	NUMBER		NOT NULL,
	"REVIEW_WRITER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REVIEW"."REVIEW_NO" IS 'SEQ_PROJ_RV_NO';

DROP TABLE "PROJECT_STATUS";

CREATE TABLE "PROJECT_STATUS" (
	"PROJECT_ST_NO"	NUMBER		NOT NULL,
	"PROJECT_ST_DETAIL"	VARCHAR2(100)		NOT NULL
);

COMMENT ON COLUMN "PROJECT_STATUS"."PROJECT_ST_NO" IS 'STATUS_NO/프로젝트상태번호';

COMMENT ON COLUMN "PROJECT_STATUS"."PROJECT_ST_DETAIL" IS 'STATUS_DETAIL/프로젝트상태상세내용';

DROP TABLE "HISTORY";

CREATE TABLE "HISTORY" (
	"RESERVE_NO"	NUMBER		NOT NULL,
	"REWARD_NO"	NUMBER		NOT NULL,
	"REWARD_SUM"	NUMBER	DEFAULT 1	NOT NULL
);

COMMENT ON COLUMN "HISTORY"."REWARD_SUM" IS '리워드개수';

DROP TABLE "RESERVE";

CREATE TABLE "RESERVE" (
	"RESERVE_NO"	NUMBER		NOT NULL,
	"BILLINGKEY"	VARCHAR2(4000)		NOT NULL,
	"ADDITIONAL"	NUMBER	DEFAULT 0	NOT NULL,
	"RESERVE_DATE"	DATE		NOT NULL,
	"RESERVE_NAME"	VARCHAR2(100)		NOT NULL,
	"RESERVE_CONTRACT"	NUMBER		NOT NULL,
	"RESERVE_ADDRESS"	VARCHAR2(4000)		NOT NULL,
	"RESERVE_REQUEST"	VARCHAR2(300)		NULL,
	"RESERVE_USER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "RESERVE"."RESERVE_NO" IS 'SEQ_RES_NO';

COMMENT ON COLUMN "RESERVE"."RESERVE_NAME" IS '배송이름';

COMMENT ON COLUMN "RESERVE"."RESERVE_CONTRACT" IS '배송전화번호';

COMMENT ON COLUMN "RESERVE"."RESERVE_ADDRESS" IS '배송주소';

COMMENT ON COLUMN "RESERVE"."RESERVE_REQUEST" IS '배송시요청사항';

DROP TABLE "DAYCOUNT";

CREATE TABLE "DAYCOUNT" (
	"VISIT_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"USER_NO"	NUMBER		NOT NULL
);

DROP TABLE "DAYTOTAL";

CREATE TABLE "DAYTOTAL" (
	"VISIT_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"TOTAL_COUNT"	NUMBER		NOT NULL
);

DROP TABLE "REPORT_TB";

CREATE TABLE "REPORT_TB" (
	"REPORT_NO"	NUMBER		NOT NULL,
	"REPORT_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPORT_CONTENT"	VARCHAR2(4000)		NOT NULL,
	"REPORT_REF_PNO"	NUMBER		NOT NULL,
	"REPORT_WRITER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REPORT_TB"."REPORT_NO" IS 'SEQ_REP_NO';

DROP TABLE "REPORT_REPLY";

CREATE TABLE "REPORT_REPLY" (
	"REPORT_RP_NO"	NUMBER		NOT NULL,
	"REPORT_RP_CONTENT"	VARCHAR2(4000)		NULL,
	"REPORT_RP_DT"	DATE	DEFAULT SYSDATE	NOT NULL,
	"REPORT_RP_REF_RNO"	NUMBER		NOT NULL,
	"REPORT_RP_WRITER"	NUMBER		NOT NULL
);

COMMENT ON COLUMN "REPORT_REPLY"."REPORT_RP_NO" IS 'SEQ_ANS_NO';

ALTER TABLE "USER_TB" ADD CONSTRAINT "PK_USER_TB" PRIMARY KEY (
	"USER_NO"
);

ALTER TABLE "PROJECT_TB" ADD CONSTRAINT "PK_PROJECT_TB" PRIMARY KEY (
	"PROJECT_NO"
);

ALTER TABLE "REWARD" ADD CONSTRAINT "PK_REWARD" PRIMARY KEY (
	"REWARD_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "PK_REPLY" PRIMARY KEY (
	"REPLY_NO"
);

ALTER TABLE "NOTICE" ADD CONSTRAINT "PK_NOTICE" PRIMARY KEY (
	"NOTICE_NO"
);

ALTER TABLE "FOLLOW_TB" ADD CONSTRAINT "PK_FOLLOW_TB" PRIMARY KEY (
	"FOLLOW",
	"FOLLOWER"
);

ALTER TABLE "LIKE_TB" ADD CONSTRAINT "PK_LIKE_TB" PRIMARY KEY (
	"LIKE_USER",
	"LIKE_PRJ"
);

ALTER TABLE "PROJECT_CG" ADD CONSTRAINT "PK_PROJECT_CG" PRIMARY KEY (
	"PROJECT_CT_NO"
);

ALTER TABLE "REWARD_OPTION" ADD CONSTRAINT "PK_REWARD_OPTION" PRIMARY KEY (
	"REWORD_OP_NO"
);

ALTER TABLE "REPLY_CG" ADD CONSTRAINT "PK_REPLY_CG" PRIMARY KEY (
	"REPLY_CG_NO"
);

ALTER TABLE "SUBREPLY" ADD CONSTRAINT "PK_SUBREPLY" PRIMARY KEY (
	"SUBRE_NO"
);

ALTER TABLE "FAQ" ADD CONSTRAINT "PK_FAQ" PRIMARY KEY (
	"FAQ_NO"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "PK_REVIEW" PRIMARY KEY (
	"REVIEW_NO"
);

ALTER TABLE "PROJECT_STATUS" ADD CONSTRAINT "PK_PROJECT_STATUS" PRIMARY KEY (
	"PROJECT_ST_NO"
);

ALTER TABLE "HISTORY" ADD CONSTRAINT "PK_HISTORY" PRIMARY KEY (
	"RESERVE_NO",
	"REWARD_NO"
);

ALTER TABLE "RESERVE" ADD CONSTRAINT "PK_RESERVE" PRIMARY KEY (
	"RESERVE_NO"
);

ALTER TABLE "DAYCOUNT" ADD CONSTRAINT "PK_DAYCOUNT" PRIMARY KEY (
	"VISIT_DATE",
	"USER_NO"
);

ALTER TABLE "DAYTOTAL" ADD CONSTRAINT "PK_DAYTOTAL" PRIMARY KEY (
	"VISIT_DATE"
);

ALTER TABLE "REPORT_TB" ADD CONSTRAINT "PK_REPORT_TB" PRIMARY KEY (
	"REPORT_NO"
);

ALTER TABLE "REPORT_REPLY" ADD CONSTRAINT "PK_REPORT_REPLY" PRIMARY KEY (
	"REPORT_RP_NO"
);

ALTER TABLE "PROJECT_TB" ADD CONSTRAINT "FK_USER_TB_TO_PROJECT_TB_1" FOREIGN KEY (
	"PROJECT_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "PROJECT_TB" ADD CONSTRAINT "FK_PROJECT_CG_TO_PROJECT_TB_1" FOREIGN KEY (
	"PROJECT_CT_NO"
)
REFERENCES "PROJECT_CG" (
	"PROJECT_CT_NO"
);

ALTER TABLE "PROJECT_TB" ADD CONSTRAINT "FK_PROJECT_STATUS_TO_PROJECT_TB_1" FOREIGN KEY (
	"PROJECT_ST_NO"
)
REFERENCES "PROJECT_STATUS" (
	"PROJECT_ST_NO"
);

ALTER TABLE "REWARD" ADD CONSTRAINT "FK_PROJECT_TB_TO_REWARD_1" FOREIGN KEY (
	"REWORD_REF_PNO"
)
REFERENCES "PROJECT_TB" (
	"PROJECT_NO"
);

ALTER TABLE "REWARD" ADD CONSTRAINT "FK_REWARD_OPTION_TO_REWARD_1" FOREIGN KEY (
	"REWORD_OP_NO"
)
REFERENCES "REWARD_OPTION" (
	"REWORD_OP_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "FK_PROJECT_TB_TO_REPLY_1" FOREIGN KEY (
	"REPLY_REF_PNO"
)
REFERENCES "PROJECT_TB" (
	"PROJECT_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "FK_USER_TB_TO_REPLY_1" FOREIGN KEY (
	"REPLY_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "REPLY" ADD CONSTRAINT "FK_REPLY_CG_TO_REPLY_1" FOREIGN KEY (
	"REPLY_CG_NO"
)
REFERENCES "REPLY_CG" (
	"REPLY_CG_NO"
);

ALTER TABLE "NOTICE" ADD CONSTRAINT "FK_USER_TB_TO_NOTICE_1" FOREIGN KEY (
	"NOTICE_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "FOLLOW_TB" ADD CONSTRAINT "FK_USER_TB_TO_FOLLOW_TB_1" FOREIGN KEY (
	"FOLLOW"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "FOLLOW_TB" ADD CONSTRAINT "FK_USER_TB_TO_FOLLOW_TB_2" FOREIGN KEY (
	"FOLLOWER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "LIKE_TB" ADD CONSTRAINT "FK_USER_TB_TO_LIKE_TB_1" FOREIGN KEY (
	"LIKE_USER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "LIKE_TB" ADD CONSTRAINT "FK_PROJECT_TB_TO_LIKE_TB_1" FOREIGN KEY (
	"LIKE_PRJ"
)
REFERENCES "PROJECT_TB" (
	"PROJECT_NO"
);

ALTER TABLE "SUBREPLY" ADD CONSTRAINT "FK_USER_TB_TO_SUBREPLY_1" FOREIGN KEY (
	"SUBRE_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "SUBREPLY" ADD CONSTRAINT "FK_REPLY_TO_SUBREPLY_1" FOREIGN KEY (
	"SUBRE_REF_RNO"
)
REFERENCES "REPLY" (
	"REPLY_NO"
);

ALTER TABLE "FAQ" ADD CONSTRAINT "FK_USER_TB_TO_FAQ_1" FOREIGN KEY (
	"FAQ_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "FK_PROJECT_TB_TO_REVIEW_1" FOREIGN KEY (
	"REVIEW_REF_PNO"
)
REFERENCES "PROJECT_TB" (
	"PROJECT_NO"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "FK_USER_TB_TO_REVIEW_1" FOREIGN KEY (
	"REVIEW_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "HISTORY" ADD CONSTRAINT "FK_RESERVE_TO_HISTORY_1" FOREIGN KEY (
	"RESERVE_NO"
)
REFERENCES "RESERVE" (
	"RESERVE_NO"
);

ALTER TABLE "HISTORY" ADD CONSTRAINT "FK_REWARD_TO_HISTORY_1" FOREIGN KEY (
	"REWARD_NO"
)
REFERENCES "REWARD" (
	"REWARD_NO"
);

ALTER TABLE "RESERVE" ADD CONSTRAINT "FK_USER_TB_TO_RESERVE_1" FOREIGN KEY (
	"RESERVE_USER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "DAYCOUNT" ADD CONSTRAINT "FK_USER_TB_TO_DAYCOUNT_1" FOREIGN KEY (
	"USER_NO"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "REPORT_TB" ADD CONSTRAINT "FK_PROJECT_TB_TO_REPORT_TB_1" FOREIGN KEY (
	"REPORT_REF_PNO"
)
REFERENCES "PROJECT_TB" (
	"PROJECT_NO"
);

ALTER TABLE "REPORT_TB" ADD CONSTRAINT "FK_USER_TB_TO_REPORT_TB_1" FOREIGN KEY (
	"REPORT_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

ALTER TABLE "REPORT_REPLY" ADD CONSTRAINT "FK_REPORT_TB_TO_REPORT_REPLY_1" FOREIGN KEY (
	"REPORT_RP_REF_RNO"
)
REFERENCES "REPORT_TB" (
	"REPORT_NO"
);

ALTER TABLE "REPORT_REPLY" ADD CONSTRAINT "FK_USER_TB_TO_REPORT_REPLY_1" FOREIGN KEY (
	"REPORT_RP_WRITER"
)
REFERENCES "USER_TB" (
	"USER_NO"
);

---------------------------
-- USER_TB TABLE NICNAME UNIQUE 제약조건 추가
alter table 테이블명 add unique(ename);
ALTER TABLE USER_TB ADD UNIQUE(USER_NICKNAME);


------------- AUTO_LOGIN TABLE 추가
CREATE TABLE "AUTO_LOGIN" (
	"AUTO_LG_UNO"	NUMBER		NOT NULL,
	"AUTO_SESSIONKEY"	VARCHAR2(500)		NULL,
	"AUTO_EXPIRYDATE"	DATE		NULL
);

COMMENT ON COLUMN "AUTO_LOGIN"."AUTO_LG_UNO" IS '자동로그인할 유저 번호';

COMMENT ON COLUMN "AUTO_LOGIN"."AUTO_SESSIONKEY" IS '세션키 저장하는 컬럼';

COMMENT ON COLUMN "AUTO_LOGIN"."AUTO_EXPIRYDATE" IS '세션키 만료되는 날짜';

ALTER TABLE "AUTO_LOGIN" ADD CONSTRAINT "PK_AUTO_LOGIN" PRIMARY KEY (
	"AUTO_LG_UNO"
);

ALTER TABLE "AUTO_LOGIN" ADD CONSTRAINT "FK_USER_TB_TO_AUTO_LOGIN_1" FOREIGN KEY (
	"AUTO_LG_UNO"
)
REFERENCES "USER_TB" (
	"USER_NO"
);


-------------- RESERVE STATUS 테이블 추가

CREATE TABLE "RESERVE_STATUS" (
	"RESERVE_ST_NO"	NUMBER		NOT NULL,
	"RESERVE_ST_DETAIL"	VARCHAR2(100)		NOT NULL
);

ALTER TABLE "RESERVE_STATUS" ADD CONSTRAINT "PK_RESERVE_STATUS" PRIMARY KEY (
	"RESERVE_ST_NO"
);